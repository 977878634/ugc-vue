webpackJsonp([6],{"6sYy":function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l("mvHQ"),a=l.n(n),o={name:"announcementManager",data:function(){return{selectRow:{},searchTitle:"",createTime:"",tableData:[{date:"2019-08-04",announcer:"单总",title:"关于5G资费套餐调整的公告标题1",content:"5G流量统统不要钱走过路过不要错过15926",topNotice:!0},{date:"2019-08-04",announcer:"强哥",title:"关于5G资费套餐调整的公告标题2",content:"5G流量统统不要钱走过路过不要错过15926",topNotice:!0},{date:"2019-08-04",announcer:"王大锤",title:"关于5G资费套餐调整的公告标题3",content:"5G流量统统不要钱走过路过不要错过15926",topNotice:!1},{date:"2019-08-04",announcer:"毛老板",title:"关于5G资费套餐调整的公告标题4",content:"5G流量统统不要钱走过路过不要错过15926"},{date:"2019-08-04",announcer:"亮仔",title:"关于5G资费套餐调整的公告标题1",content:"5G流量统统不要钱走过路过不要错过15926"}],dialogFormVisible:!1,dialogDetailVisible:!1,form:{title:"",announcer:"强哥",content:""},formLabelWidth:"120px",dialogStatus:"",handleSizeChange:"",currentPage3:"",handleSelectionChange:"",handleCurrentChange:""}},methods:{dialogOpen:function(t,e){this.dialogFormVisible=!0,console.log(t),"add"===t?(this.dialogStatus="新增公告 ",this.form={announcer:"强哥",content:"",title:""}):"edit"===t&&(this.dialogStatus="编辑公告",this.form=JSON.parse(a()(e)))},addAnnouncement:function(){this.dialogOpen("add","")},handleEdit:function(t,e){this.dialogOpen("edit",e)},handleDelete:function(){var t=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleDetails:function(t){this.selectRow=t,this.dialogDetailVisible=!0},addConfirm:function(t){console.log(this.form.title)}}},i={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("section",{staticStyle:{width:"100%",height:"100%"}},[l("div",{staticClass:"body-main"},[l("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","text-align":"left"},attrs:{span:24}},[l("el-form",{staticClass:"demo-form-inline",staticStyle:{padding:"10px"},attrs:{inline:!0}},[l("el-form-item",{attrs:{label:"标题"}},[l("el-input",{attrs:{placeholder:"标题"},model:{value:t.searchTitle,callback:function(e){t.searchTitle=e},expression:"searchTitle"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"发布时间"}},[l("el-col",{attrs:{span:18}},[l("el-form-item",{attrs:{prop:"date1"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.createTime,callback:function(e){t.createTime=e},expression:"createTime"}})],1)],1)],1),t._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",title:"查询"}})],1),t._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-plus",title:"新增"},on:{click:t.addAnnouncement}})],1)],1)],1),t._v(" "),l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.filter(function(e){return!t.searchTitle||!t.createTime}),"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{type:"index",label:"编号",width:"55"}}),t._v(" "),l("el-table-column",{attrs:{prop:"date",label:"发布日期",sortable:"",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.date))]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"title",label:"公告标题",width:"380"}}),t._v(" "),l("el-table-column",{attrs:{prop:"content",label:"公告内容","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"istop",label:"置顶",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(l){return t.change(e.$index,e.row)}},model:{value:e.row.topNotice,callback:function(l){t.$set(e.row,"topNotice",l)},expression:"scope.row.topNotice"}})]}}])}),t._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text"},on:{click:function(l){return t.handleDetails(e.row)}}},[t._v("查看")]),t._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),l("el-button",{attrs:{type:"text"},on:{click:t.handleDelete}},[t._v("删除")])]}}])})],1),t._v(" "),l("div",{staticClass:"block pagination",staticStyle:{float:"right"}},[l("el-pagination",{attrs:{"current-page":t.currentPage3,"page-size":100,background:"",layout:"prev, pager, next, jumper",total:1e3},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage3=e},"update:current-page":function(e){t.currentPage3=e}}})],1)],1),t._v(" "),l("el-dialog",{attrs:{title:t.dialogStatus,visible:t.dialogFormVisible,center:""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"公告标题","label-width":t.formLabelWidth,required:!0}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"发布人","label-width":t.formLabelWidth}},[l("el-input",{attrs:{disabled:"disabled"},model:{value:t.form.announcer,callback:function(e){t.$set(t.form,"announcer",e)},expression:"form.announcer"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"公告内容","label-width":t.formLabelWidth,required:!0}},[l("el-input",{attrs:{type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addConfirm("form")}}},[t._v("确 定")])],1)],1),t._v(" "),l("el-dialog",{attrs:{title:"公告详情",visible:t.dialogDetailVisible},on:{"update:visible":function(e){t.dialogDetailVisible=e}}},[l("el-row",[l("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[l("h3",[t._v(t._s(t.selectRow.title))])])],1),t._v(" "),l("el-row",{staticStyle:{color:"#8c939d"},attrs:{gutter:20}},[l("el-col",{attrs:{span:8}},[l("p",[t._v("作者："),l("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.selectRow.announcer))])])]),t._v(" "),l("el-col",{attrs:{span:16}},[l("p",[t._v("发布时间："),l("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.selectRow.date))])])])],1),t._v(" "),l("el-row",[l("el-col",{attrs:{span:24}},[l("div",{staticStyle:{"text-indent":"2em"}},[t._v("\n            "+t._s(t.selectRow.content)+"\n          ")])])],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogDetailVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogDetailVisible=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=l("VU/8")(o,i,!1,function(t){l("9K9B")},"data-v-75bcb1ee",null);e.default=r.exports},"9K9B":function(t,e){}});