webpackJsonp([16],{NbtL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("pFYg"),a=i.n(n),s=i("mvHQ"),o=i.n(s),l=i("P9l9"),r=i("MS2J"),c={name:"meetingPage",data:function(){return{ugc_meeting_options:[],articleLoading:!1,pageNum:1,pageSize:8,articleList:[],selectNowKind:"dsj",labelPosition:"new",isLastPage:!1,searchInput:"",swiperData:[{headImg:"https://justdj-ugc.oss-cn-hangzhou.aliyuncs.com/6.jpg",nickname:"强仔"},{headImg:"https://justdj-ugc.oss-cn-hangzhou.aliyuncs.com/15.jpg",nickname:"强子"},{headImg:"https://justdj-ugc.oss-cn-hangzhou.aliyuncs.com/19.jpg",nickname:"强强"}]}},computed:{},methods:{toReadPage:function(t){this.$router.push({path:"/readMeetingPage",query:{article:o()(t)}})},labelChange:function(){this.openFullScreen()},orderScroll:function(){console.log("滚动")},getDuring:function(t){var e=Date.now()-t;return e<6e4?"刚刚":e<36e5?parseInt(e/6e4)+"分钟前":e<864e5?parseInt(e/36e5)+"小时前":parseInt(e/864e5)+"天前"},scroll:function(){var t=this,e=document.querySelector(".main-right"),i=e.offsetHeight;e.onscroll=function(){var n=e.scrollTop;if(t.forbidScroll)t.top=n;else{if(n>t.top){console.log("下");var a=e.scrollHeight;if(i+n-a>=-100){if(t.forbidScroll=!0,setTimeout(function(){t.forbidScroll=!1},1500),t.isLastPage)return void t.$message.info("没有更多！");t.articleLoading=!0,t.pageNum+=1,t.getPageData()}}else console.log("上");t.top=n}}},getData:function(t){this.selectNowKind!==t&&(this.selectNowKind=t,this.pageNum=1,this.openFullScreen(),this.getPageData())},openFullScreen:function(){var t=this;this.$store.commit("openFullScreenLoading"),setTimeout(function(){t.$store.commit("closeFullScreenLoading")},200+150*Math.random())},isEmpty:function(t){switch(void 0===t?"undefined":a()(t)){case"undefined":return!0;case"string":if(0===t.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!t)return!0;break;case"number":if(0===t||isNaN(t))return!0;break;case"object":if(null===t||0===t.length)return!0;for(var e in t)return!1;return!0}return!1},contains:function(t,e){return this.isEmpty(t)?(console.log("为空"),!1):-1!=t.indexOf(e)},getPageData:function(){var t=this,e={pageNum:this.pageNum-1,pageSize:this.pageSize,kind:this.selectNowKind,label:this.labelPosition,searchInput:this.searchInput};Object(l.z)(e).then(function(e){t.articleLoading=!1,200===e.code?r.c(e.data)||(t.isLastPage=e.data.last,e.data.content.forEach(function(e){t.articleList.push(e)})):2===e.code?(t.$store.commit("signInDialogVisibleTrue"),t.$router.push({path:"/meetingPage",query:{isError:!0}})):t.$message.error(e.msg)})}},created:function(){},mounted:function(){var t=this;this.openFullScreen(),this.scroll(),Object(l.n)("ugc_meeting_options").then(function(e){200===e.code?(t.ugc_meeting_options=e.data,t.selectNowKind=t.ugc_meeting_options[0].value,t.getPageData()):console.error("博客类型下拉列表获取失败")})}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{width:"100%",display:"flex","justify-content":"space-between"}},[i("el-aside",{staticClass:"main-left",staticStyle:{width:"21%",margin:"0"}},[i("div",{staticClass:"left-menu",staticStyle:{position:"fixed",left:"140px",top:"81px","max-height":"770px",height:"593px"}},[i("el-scrollbar",t._l(t.ugc_meeting_options,function(e,n){return i("el-button",{staticClass:"left-menu-item",on:{click:function(i){return t.getData(e.value)}}},[t._v(t._s(e.label))])}),1)],1)]),t._v(" "),i("el-main",{staticClass:"main-right",staticStyle:{height:"auto"}},[i("div",{staticClass:"top-article"},[i("el-carousel",{attrs:{interval:2e3,type:"card",height:"200px"}},t._l(t.swiperData,function(t,e){return i("el-carousel-item",{key:e},[i("div",{staticClass:"infoText"},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.headImg}})])])}),1)],1),t._v(" "),i("div",{staticClass:"list-article"},[i("div",{staticClass:"list-article-operate"},[i("el-radio-group",{attrs:{size:"medium"},on:{change:t.labelChange},model:{value:t.labelPosition,callback:function(e){t.labelPosition=e},expression:"labelPosition"}},[i("el-radio-button",{attrs:{label:"new"}},[t._v("最新发表")]),t._v(" "),i("el-radio-button",{attrs:{label:"hot"}},[t._v("最近热门")])],1),t._v(" "),i("el-input",{staticStyle:{width:"218px"},attrs:{placeholder:"请输入关键字"},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1),t._v(" "),i("div",{staticClass:"list-item-title"},[i("div",{staticClass:"title center",staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("\n          标题\n        ")]),t._v(" "),i("div",{staticClass:"author center",staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("\n          作者\n        ")]),t._v(" "),i("div",{staticClass:"readCount center",staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("\n          点击量\n        ")]),t._v(" "),i("div",{staticClass:"presentTime center",staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("\n          发表时间\n        ")])]),t._v(" "),t._l(t.articleList,function(e,n){return i("div",{staticClass:"list-item"},[i("div",{staticClass:"title ",on:{click:function(i){return t.toReadPage(e)}}},[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),i("div",{staticClass:"author center"},[t._v("\n          "+t._s(e.authorName)+"\n        ")]),t._v(" "),i("div",{staticClass:"readCount center"},[t._v("\n          "+t._s(e.readCount)+" 点击\n        ")]),t._v(" "),i("div",{staticClass:"presentTime center"},[t._v("\n          "+t._s(t.getDuring(e.presentTime))+"\n        ")])])}),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.articleLoading,expression:"articleLoading"}],staticClass:"loading",staticStyle:{width:"5%",height:"30px",position:"fixed",right:"47.5%",bottom:"40px"},attrs:{"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0)","element-loading-text":"拼命加载中"}})],2)])],1)},staticRenderFns:[]};var g=i("VU/8")(c,u,!1,function(t){i("qwMP")},"data-v-23529ea2",null);e.default=g.exports},qwMP:function(t,e){}});